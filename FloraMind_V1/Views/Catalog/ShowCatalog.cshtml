@model IEnumerable<FloraMind_V1.Models.Plant>
@{
    ViewData["Title"] = "Bitki Kataloğu";
}

<link rel="stylesheet" href="~/css/ShowCatalog.css" />

<h2 class="page-title">Bitki Kataloğu</h2>

<div class="card-container">
	
            @foreach (var item in Model)
            {
                <div class="plant-card">
                    <div class="image-wrapper">

                <img src="~/images/@item.ImageUrl" alt="@item.Name">
                    </div>
                    
                    <div class="card-body">
                        <h3>@item.Name</h3>

                        <ul>
                            <li><strong>Tür:</strong> @item.Species</li>
              
                        </ul>

                        <button class="info-btn">Bilgi</button>

                        <div class="card-info">
                    @if (item.Contents != null && item.Contents.Any())
                    {
                        @foreach (var content in item.Contents)
                        {
                            <div class="content-item">
                                <strong>Bitki İçeriği:</strong>
                                <p>@content.Body</p>
                            </div>

                        }
                    }
                    else
                    {
                        <p class="no-content">Henüz içerik eklenmemiş.</p>
                    }
                             <form asp-controller="UserPlants" asp-action="Add" method="post">
                        <input type="hidden" name="plantId" value="@item.PlantID" />

                        <button type="submit" class="save-btn">
                            🌱 Bitkilerime Kaydet
                        </button>
                              </form>
                        </div>
                    </div>
                </div>
            }


</div>

<script>
    document.querySelectorAll('.info-btn').forEach(btn => {
        btn.addEventListener('click', function () {
            const card = this.closest('.plant-card');
            card.classList.toggle('active');
        });
    });
</script>
